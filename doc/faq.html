<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Frequently Asked Questions About the opentheory Tool</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
</head>

<body>

<h1>Frequently Asked Questions About the opentheory Tool</h1>

<hr />

<h4>What does the tool do?</h4>

<p>The opentheory tool processes OpenTheory packages, which contain
statements and proofs of theorems in higher order logic. These
packages are used to share proofs between the different theorem prover
implementations of higher order logic, including

<a href="http://hol.sourceforge.net/">HOL4</a>,

<a href="http://www.lemma-one.com/ProofPower/index/index.html">ProofPower/HOL</a>

and

<a href="http://www.cl.cam.ac.uk/users/jrh/hol-light/index.html">HOL Light</a>.

See the

<a href="http://www.gilith.com/research/opentheory">OpenTheory project</a>

home page for more details.</p>

<hr />

<h4>Where can I download the tool?</h4>

<p>The most recent version of the opentheory tool can be downloaded from

<a href="http://www.gilith.com/software/opentheory/"><tt>http://www.gilith.com/software/opentheory/</tt></a>.</p>

<hr />

<h4>Where is the tool documentation?</h4>

<p>The

<a href="notes.html"><tt>doc/notes.html</tt></a>

file of the opentheory release contains a collection of links to tool
documentation.</p>

<hr />

<h4>Is there an OpenTheory mailing list?</h4>

<p>There is an email list for OpenTheory users: you can subscribe and view
the archives at

<a href="http://www.gilith.com/mailman/listinfo/opentheory-users"><tt>http://www.gilith.com/mailman/listinfo/opentheory-users</tt></a>.</p>

<hr />

<h4>What version of ML should I use to compile opentheory?</h4>

<p>I strongly recommend using MLton (or Poly/ML) over Moscow ML to run
opentheory, for reasons of speed (MLton is about 10 times faster than
Moscow ML).</p>

<hr />

<h4>How can I see what theory packages I have installed?</h4>

<p>The command</p>

<blockquote>
<p><tt>opentheory list</tt></p>
</blockquote>

<p>displays all installed packages.</p>

<hr />

<h4>Where are the packages installed?</h4>

<p>By default, opentheory installs packages in the
directory <tt>~/.opentheory</tt>. It is possible to specify a
different package directory using the global option

<tt>-d, --root-dir DIR</tt>.</p>

<p>The files for package <tt>NAME-VERSION</tt> are stored in the
subdirectory <tt>packages/NAME-VERSION</tt> of the package
directory.</p>

<hr />

<h4>How can I view the contents of a theory package?</h4>

<p>The best way to view the contents of a theory
package <tt>NAME-VERSION</tt> is by opening the
file</p>

<blockquote>
<p><tt>packages/NAME-VERSION/NAME-VERSION.html</tt></p>
</blockquote>

<p>in the package directory.</p>

<p>On the command line, executing</p>

<blockquote>
<p><tt>opentheory info --summary NAME-VERSION</tt></p>
</blockquote>

<p>prints a text summary of the theory package <tt>NAME-VERSION</tt>
on <tt>stdout</tt>.</p>

<hr />

<h4>What are the <tt>NAME.thy</tt> files used for?</h4>

<p>The theory file <tt>NAME.thy</tt>, normally found inside a package
directory <tt>NAME-VERSION</tt>, contains instructions for how to
construct the theory exported by the package. This might be as simple
as</p>

<blockquote>
<p><tt>main {<br />
&nbsp;&nbsp;article: "NAME.art"<br />
}</tt></p>
</blockquote>

<p>which says that the theory is constructed by reading the article
file <tt>NAME.art</tt>, but more complex theories are possible that
import and combine other theory packages.</p>

<p>Theory files also contain some meta-information about the package
in the form of tags, for example:</p>
<blockquote>
<p><tt>name: bool<br />
version: 1.0<br />
description: Boolean theory<br />
author: Joe Leslie-Hurd &lt;joe@gilith.com&gt;<br />
license: MIT</tt></p>
</blockquote>

<hr />

<h4>Why do some theory packages contain <tt>.art</tt> files?</h4>

<p>The <kbd>article:</kbd> directive in a theory file causes the
opentheory tool to read in a file in article format&mdash;such files
have extension <kbd>.art</kbd>.</p>

<hr />

<h4>How can I generate a proof article file from a HOL Light theory file?</h4>

<ol>

<li>First, install the

<a href="http://src.gilith.com/hol-light.html">Proof Logging in HOL Light Development Snapshot</a>.</li>

<li>Add the following lines to the top of the HOL Light theory file <tt>NAME.ml</tt>:
<blockquote>
<p><tt>start_logging ();;</tt><br />
<tt>logfile "THEORY";;</tt></p>
</blockquote></li>

<li>For every theorem <tt>THM</tt> you'd like to include in the article, add an <tt>export_thm</tt> command like so:
<blockquote>
<p><tt>let THM = </tt><i>...HOL Light proof of the theorem...</i><tt> ;;</tt><br />
<tt>export_thm THM;;</tt></p>
</blockquote></li>

<li>Add the following lines to the bottom of the <tt>NAME.ml</tt>
theory file:
<blockquote>
<p><tt>logfile_end ();;</tt><br />
<tt>stop_logging ();;</tt></p>
</blockquote></li>

<li>Run the <tt>NAME.ml</tt> file through HOL Light in the usual
way
<blockquote>
<p><tt>ocaml<br />
#use "hol.ml";;<br />
#use "NAME.ml";;</tt></p>
</blockquote>
to generate a raw proof article file and an associated theory file:
<blockquote>
<p><tt>opentheory/articles/THEORY.art<br />
opentheory/articles/THEORY.thy</tt></p>
</blockquote></li>

<li>The raw proof article file can be compressed and converted to the
OpenTheory standard namespace with the command
<blockquote>
<p><tt>opentheory info --article -o THEORY.art opentheory/articles/THEORY.thy</tt></p>
</blockquote>
Running this command will generate the OpenTheory proof article
file <tt>THEORY.art</tt>.</li>

</ol>

<p><b>Note:</b> You can change the HOL Light name of the type
operators and constants that you define in <tt>NAME.ml</tt> by adding
lines to the <tt>opentheory/hol-light.int</tt> file.</p>

<hr />

<h4>How can I convert a theory package into a proof article file?</h4>

<p>Compile the theory package <tt>NAME-VERSION</tt> to the proof
article file <tt>THEORY.art</tt> using the command:</p>

<blockquote>
<p><tt>opentheory info --article -o THEORY.art NAME-VERSION</tt></p>
</blockquote>

<hr />

<h4>How can I read a proof article file into my theorem prover?</h4>

<p>Read the proof article file <tt>NAME.art</tt> into your theorem
prover, using existing type operators, constants and theorems for the
ones in the <tt>input-types</tt>, <tt>input-consts</tt>
and <tt>assumptions</tt> sections of the article summary.</p>

<p>If your higher order logic theorem prover does not already have a
reader for proof articles, you can contribute to the OpenTheory
project by implementing one yourself! To do this you need to write an
ML function that takes as input the article file name, and reads in
the commands in the article file one by one, processing them exactly
as described in the

<a href="http://www.gilith.com/research/opentheory/article.html">article file format standard</a>.</p>

<p>It might be useful to refer to the article reader implementation in
the opentheory tool (although opentheory needs to keep track of more
state to rename and compress articles), in particular the following
files in the release:</p>

<ul>

<li><tt>src/Command.sig</tt> &nbsp; <tt>src/Command.sml</tt></li>

<li><tt>src/Object.sig</tt> &nbsp; <tt>src/Object.sml</tt></li>

<li><tt>src/ObjectRead.sig</tt> &nbsp; <tt>src/ObjectRead.sml</tt></li>

</ul>

<hr />

<h4>What is the purpose of the <kbd>test.sml</kbd> file in
the <kbd>test</kbd> directory?</h4>

<p>This file is part of the self-test for opentheory. The file is run
by Moscow ML, MLton and Poly/ML, generating the
files <kbd>mosml-result</kbd>, <kbd>mlton-result</kbd>
and <kbd>polyml-result</kbd> (respectively). These are compared to the
expected result in the <kbd>result.ok</kbd> file.</p>

<hr />

<p><img src="logo.png" alt="opentheory" /></p>

</body>
</html>
