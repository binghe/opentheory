<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Frequently Asked Questions About the opentheory Tool</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
</head>

<body>

<h1>Frequently Asked Questions About the opentheory Tool</h1>

<h4>What does the tool do?</h4>

<p>The opentheory tool processes OpenTheory packages, which contains
statements and proofs of theorems in higher order logic. These
packages are used to share proofs between the different theorem prover
implementations of higher order logic, including

<a href="http://hol.sourceforge.net/">HOL4</a>,

<a href="http://www.lemma-one.com/ProofPower/index/index.html">ProofPower/HOL</a>

and

<a href="http://www.cl.cam.ac.uk/users/jrh/hol-light/index.html">HOL Light</a>.

See the

<a href="http://www.gilith.com/research/opentheory">OpenTheory project</a>

home page for more details.</p>

<hr />

<h4>Where can I download the tool?</h4>

<p>The most recent version of the opentheory tool can be downloaded from

<a href="http://www.gilith.com/software/opentheory/"><tt>http://www.gilith.com/software/opentheory/</tt></a>.</p>

<hr />

<h4>Where is the tool documentation?</h4>

<p>The

<a href="notes.html"><tt>doc/notes.html</tt></a>

file of the opentheory release contains a collection of links to tool
documentation.</p>

<hr />

<h4>What version of ML should I use to compile opentheory?</h4>

<p>I strongly recommend using MLton (or Poly/ML) over Moscow ML to run
opentheory, for reasons of speed (MLton is about 10 times faster than
Moscow ML).</p>

<hr />

<h4>How can I see what theory packages I have installed?</h4>

<p>The command

<blockquote>
<tt>opentheory list</tt>
</blockquote>

displays all installed packages.</p>

<hr />

<h4>Where are the packages installed?</h4>

<p>By default, opentheory installs packages in the
directory <tt>~/.opentheory</tt>. It is possible to specify a
different package directory using the global option

<tt>-d, --root-dir DIR</tt>.</p>

<hr />

<h4>How can I view the contents of a theory package?</h4>

<p>The command

<blockquote>
<tt>opentheory compile --summary-text - ~/.opentheory/packages/NAME-VERSION/NAME.thy</tt>
</blockquote>

compiles a text summary of the theory package <tt>NAME-VERSION</tt>,
and displays it on <tt>stdout</tt>.</p>

<hr />

<h4>How can I import a theory package into my theorem prover?</h4>

<p>There are two steps to this:

<ol>

<li>Compile the theory package to a proof article file using the
  command

<blockquote>
<tt>opentheory compile --article NAME.art ~/.opentheory/packages/NAME-VERSION/NAME.thy</tt>
</blockquote></li>

<li>Read the proof article file <tt>NAME.art</tt> into your theorem
  prover, using existing type operators, constants and theorems for
  the ones in the <tt>input-types</tt>, <tt>input-consts</tt>
  and <tt>assumed</tt> sections of the theory summary.</li>

</ol></p>

<hr />

<h4>How can I read a proof article file into my theorem prover?</h4>

<p>If your higher order logic theorem prover does not already have a
reader for proof articles, there are detailed instructions for
implementing one in the

<a href="http://www.gilith.com/research/opentheory/article.html">file
format standard</a>.

It might be useful to refer to the article reader implementation in
the opentheory tool (although opentheory needs to keep track of more
state to rename and compress articles), in particular the following
files in the release:
<ul>

<li><tt>src/Command.sig</tt> &nbsp; <tt>src/Command.sml</tt></li>

<li><tt>src/Object.sig</tt> &nbsp; <tt>src/Object.sml</tt></li>

<li><tt>src/ObjectRead.sig</tt> &nbsp; <tt>src/ObjectRead.sml</tt></li>

<li><tt>src/HolLight.sig</tt> &nbsp; <tt>src/HolLight.sml</tt></li>

</ul></p>

<hr />

<h4>What are the <tt>NAME.thy</tt> files used for?</h4>

<p>The theory file <tt>NAME.thy</tt>, normally found inside a package
directory <tt>NAME-VERSION</tt>, contains instructions for how to
construct the theory exported by the package. This might be as simple
as

<blockquote>
<tt>theory { article "NAME.art"; }</tt>
</blockquote>

which says that the theory is constructed by reading the article
file <tt>NAME.art</tt>, but more complex theories are possible that
import and combine other theory packages.</p>

<p>Theory files also contain some meta-information about the package
in the form of tags, for example:
<blockquote>
<tt>name: bool<br />
version: 1.0<br />
description: Basic boolean theory<br />
author: Joe Hurd &lt;joe@gilith.com&gt;<br />
license: PublicDomain</tt>
</blockquote></p>

<hr />

<h4>How can I generate a proof article file from a HOL Light theory file?</h4>

<p>First, prepare HOL Light for logging primitive inferences:
<ol>

<li>Add the

<a href="logging.ml"><tt>logging.ml</tt></a>

file to the HOL Light directory.</li>

<li>Make

<a href="hol-diff.txt">one change</a>

to the <tt>hol.ml</tt> file.</li>

</ol></p>

<p>Once HOL Light has been prepared, the theory file <tt>NAME.ml</tt>
can be converted to the proof article file <tt>NAME.art</tt> by the
following steps:
<ol>

<li>Add the following lines to the top of the <tt>NAME.ml</tt> theory
file:
<blockquote>
<tt>start_logging ();;<br />
logfile "foo";;</tt>
</blockquote></li>

<li>Add the following lines to the bottom of the <tt>NAME.ml</tt>
theory file:
<blockquote>
<tt>logfile_end ();;<br />
stop_logging ();;</tt>
</blockquote></li>

<li>Running the <tt>NAME.ml</tt> file through HOL Light in the usual
way will generate a raw proof article file
called <tt>foo.art</tt>.</li>

<li>The proof article file <tt>foo.art</tt> can be compressed and
converted to the OpenTheory standard namespace with the command
<blockquote>
<tt>opentheory compile --article NAME.art

<a href="foo.thy">foo.thy<a/></tt>
</blockquote>
Running this command will generate the proof article
file <tt>NAME.art</tt>.</li>

</ol></p>

<hr />

<img src="logo.png" alt="opentheory" />

</body>
</html>
